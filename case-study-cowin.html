<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Study: Designing for a Nation in Crisis | Kunal Katre</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Serif+JP:wght@600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              serif: ['Noto Serif JP', 'serif'],
              sans: ['Inter', 'sans-serif'],
            },
            spacing: {
              '3xs': '4px',
              '2xs': '8px',
              xs: '12px',
              sm: '16px',
              md: '24px',
              lg: '32px',
              xl: '48px',
              '2xl': '64px',
              '3xl': '96px',
              '4xl': '128px',
            },
            borderRadius: {
              DEFAULT: '16px',
              'xl': '24px',
              '2xl': '32px',
            },
            fontSize: {
              '3xl': ['1.875rem', { lineHeight: '1.2' }],
              '4xl': ['2.25rem', { lineHeight: '1.1' }],
              '5xl': ['3rem', { lineHeight: '1.1' }],
              '6xl': ['3.75rem', { lineHeight: '1.1' }],
            },
            colors: {
              primary: {
                50: '#f0f9ff',
                100: '#e0f2fe',
                200: '#bae6fd',
                300: '#7dd3fc',
                400: '#38bdf8',
                500: '#0ea5e9',
                600: '#0284c7',
                700: '#0369a1',
                800: '#075985',
                900: '#0c4a6e',
              },
              accent: {
                50: '#fef2f2',
                100: '#fee2e2',
                200: '#fecaca',
                300: '#fca5a5',
                400: '#f87171',
                500: '#ef4444',
                600: '#dc2626',
                700: '#b91c1c',
                800: '#991b1b',
                900: '#7f1d1d',
              }
            },
            boxShadow: {
              'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
              'medium': '0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
              'hard': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
            },
            animation: {
              'fade-in': 'fadeIn 0.6s ease-out forwards',
              'slide-up': 'slideUp 0.6s ease-out forwards',
              'scale-in': 'scaleIn 0.4s ease-out forwards',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideUp: {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              scaleIn: {
                '0%': { opacity: '0', transform: 'scale(0.95)' },
                '100%': { opacity: '1', transform: 'scale(1)' },
              },
            },
          },
        },
        plugins: [
          function({ addUtilities }) {
            const utilities = {
              '.text-balance': { 'text-wrap': 'balance' },
              '.text-pretty': { 'text-wrap': 'pretty' },
              '.text-auto': { 'text-wrap': 'auto' },
              '.backdrop-blur-subtle': { 'backdrop-filter': 'blur(4px)' },
              '.backdrop-blur-soft': { 'backdrop-filter': 'blur(8px)' },
            }
            addUtilities(utilities)
          },
        ],
        daisyui: {
          themes: ['light'],
          darkMode: 'class',
        },
      }
    </script>

    <link rel="stylesheet" href="style.css">
    
    <!-- Enhanced Custom Styles for Modern Design -->
    <style>
        /* Enhanced Typography and Spacing */
        .prose-lg {
            line-height: 1.7;
            font-size: 1.125rem;
        }
        
        .prose-lg p {
            margin-bottom: 1.5rem;
            text-wrap: balance;
        }
        
        /* Enhanced Hero Section */
        .gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0.05;
            z-index: -1;
        }
        
        /* Enhanced Navigation */
        .navbar {
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            background: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .navbar:hover {
            background: rgba(255, 255, 255, 0.95);
        }
        
        /* Enhanced Cards and Components */
        .card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-color: rgba(0, 0, 0, 0.15);
        }
        
        /* Enhanced Stats Cards */
        .stat-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }
        
        .stat-card:hover::before {
            transform: translateX(100%);
        }
        
        /* Enhanced Pillar Cards */
        .pillar-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .pillar-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .pillar-card:hover::after {
            opacity: 1;
        }
        
        /* Enhanced Lightbox */
        .lightbox {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: rgba(0, 0, 0, 0.9);
        }
        
        .lightbox__content {
            max-width: 90vw;
            max-height: 90vh;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .lightbox__content img,
        .lightbox__content svg {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .lightbox__controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            background: rgba(0, 0, 0, 0.7);
            padding: 12px 20px;
            border-radius: 50px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        .lightbox__control {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .lightbox__control:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .lightbox__info {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            text-align: center;
            font-size: 0.875rem;
            opacity: 0.8;
        }
        
        /* Enhanced Sidebar */
        .case-study-toc-sidebar {
            position: sticky;
            top: 2rem;
        }
        
        .toc-link {
            transition: all 0.2s;
            position: relative;
        }
        
        .toc-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 2px;
            background: currentColor;
            transition: width 0.2s;
        }
        
        .toc-link:hover::before,
        .toc-link.is-active::before {
            width: 100%;
        }
        
        /* Enhanced Next Case Study Section */
        .next-case-study article {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .next-case-study article::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(14, 165, 233, 0.1), transparent);
            transition: left 0.6s;
        }
        
        .next-case-study article:hover::before {
            left: 100%;
        }
        
        /* Enhanced Responsive Design */
        @media (max-width: 1024px) {
            .max-w-7xl {
                max-width: 90vw;
            }
            
            .md\\:grid-cols-2 {
                grid-template-columns: 1fr;
            }
            
            .md\\:grid-cols-\\[1fr\\,240px\\] {
                grid-template-columns: 1fr;
            }
            
            .case-study-toc-sidebar {
                position: relative;
                top: 0;
                margin-top: 2rem;
                order: -1;
            }
        }
        
        @media (max-width: 768px) {
            .prose-lg {
                font-size: 1rem;
                line-height: 1.6;
            }
            
            .text-4xl, .md\\:text-5xl, .lg\\:text-6xl {
                font-size: 2rem;
            }
            
            .text-2xl, .md\\:text-3xl {
                font-size: 1.5rem;
            }
            
            .py-16 {
                padding-top: 2rem;
                padding-bottom: 2rem;
            }
            
            .mb-32 {
                margin-bottom: 2rem;
            }
            
            .gap-16 {
                gap: 1rem;
            }
            
            .lightbox__controls {
                bottom: 10px;
                padding: 8px 12px;
                gap: 8px;
            }
            
            .lightbox__control {
                padding: 6px 8px;
            }
            
            .stats.stats-horizontal {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .stat {
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
                padding: 1rem;
            }
            
            .stat-value {
                margin-right: 1rem;
                margin-bottom: 0;
            }
            
            .navbar-center {
                display: none;
            }
            
            .navbar-end.md\\:hidden {
                display: block;
            }
            
            .hero-phone-mockup {
                max-width: 100%;
                aspect-ratio: 9/16;
            }
            
            .md\\:grid-cols-3 {
                grid-template-columns: 1fr;
            }
            
            .card {
                margin-bottom: 1rem;
            }
            
            .next-case-study article {
                flex-direction: column;
                text-align: center;
            }
            
            .next-case-study .flex-shrink-0 {
                margin: 0 auto;
            }
        }
        
        @media (max-width: 480px) {
            .max-w-7xl {
                max-width: 95vw;
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .text-4xl, .md\\:text-5xl, .lg\\:text-6xl {
                font-size: 1.75rem;
            }
            
            .text-2xl, .md\\:text-3xl {
                font-size: 1.25rem;
            }
            
            .py-16 {
                padding-top: 1.5rem;
                padding-bottom: 1.5rem;
            }
            
            .mb-32 {
                margin-bottom: 1.5rem;
            }
            
            .gap-16 {
                gap: 0.75rem;
            }
            
            .p-8 {
                padding: 1rem;
            }
            
            .rounded-2xl {
                border-radius: 1rem;
            }
            
            .hero-phone-mockup {
                aspect-ratio: 4/3;
            }
            
            .stats.stats-horizontal {
                gap: 0.25rem;
            }
            
            .stat {
                padding: 0.75rem;
            }
            
            .stat-value {
                font-size: 1.25rem;
                margin-right: 0.5rem;
            }
            
            .stat-title {
                font-size: 0.75rem;
            }
            
            .menu.menu-horizontal {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .menu.menu-horizontal li {
                width: 100%;
            }
            
            .navbar-start, .navbar-end {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .btn {
                font-size: 0.875rem;
                padding: 0.5rem 1rem;
            }
        }
        
        /* Enhanced Touch-Friendly Design */
        @media (hover: none) and (pointer: coarse) {
            .zoomable {
                cursor: pointer;
            }
            
            .lightbox__control {
                min-height: 44px;
                min-width: 44px;
                touch-action: manipulation;
            }
            
            .btn {
                min-height: 44px;
                touch-action: manipulation;
            }
            
            .toc-link {
                min-height: 44px;
                touch-action: manipulation;
            }
            
            .card {
                touch-action: manipulation;
            }
        }
        
        /* Enhanced High-Contrast Mode Support */
        @media (prefers-contrast: high) {
            .card {
                border: 2px solid currentColor;
            }
            
            .btn {
                border: 2px solid currentColor;
            }
            
            .toc-link {
                border: 1px solid currentColor;
            }
            
            .navbar {
                border-bottom: 2px solid currentColor;
            }
        }
        
        /* Enhanced Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .animate-fade-in,
            .animate-slide-up,
            .animate-scale-in {
                animation: none;
                opacity: 1;
                transform: none;
            }
            
            .float-animation {
                animation: none;
            }
            
            .card:hover,
            .stat-card:hover,
            .pillar-card:hover,
            .next-case-study article:hover {
                transform: none;
            }
        }
        
        /* Enhanced Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            .gradient-bg {
                background: linear-gradient(135deg, #4c1d95 0%, #1e1b4b 100%);
                opacity: 0.1;
            }
            
            .navbar {
                background: rgba(17, 24, 39, 0.95);
                border-bottom: 1px solid rgba(75, 85, 99, 0.3);
            }
            
            .card {
                background: rgba(31, 41, 55, 0.9);
                border: 1px solid rgba(75, 85, 99, 0.3);
            }
            
            .mermaid {
                background: rgba(31, 41, 55, 0.9);
                border: 1px solid rgba(75, 85, 99, 0.3);
            }
            
            .case-study-toc-sidebar {
                background: rgba(17, 24, 39, 0.9);
                border: 1px solid rgba(75, 85, 99, 0.3);
            }
            
            .text-base-content {
                color: #f3f4f6;
            }
            
            .text-base-content-70 {
                color: #d1d5db;
            }
            
            .text-base-content-50 {
                color: #9ca3af;
            }
            
            .text-base-content-80 {
                color: #e5e7eb;
            }
            
            .bg-base-100 {
                background-color: #111827;
            }
            
            .bg-base-200 {
                background-color: #1f2937;
            }
            
            .hover\\:bg-base-200:hover {
                background-color: #1f2937;
            }
        }
        
        /* Enhanced Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        /* Enhanced Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Enhanced Focus States */
        button:focus,
        a:focus {
            outline: 2px solid #0ea5e9;
            outline-offset: 2px;
        }
        
        /* Enhanced Loading States */
        .loading {
            position: relative;
            overflow: hidden;
        }
        
        .loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* Enhanced Typography Improvements */
        h1, h2, h3, h4, h5, h6 {
            letter-spacing: -0.02em;
            line-height: 1.2;
        }
        
        h1 { font-size: clamp(2rem, 5vw, 3rem); }
        h2 { font-size: clamp(1.5rem, 4vw, 2.5rem); }
        h3 { font-size: clamp(1.25rem, 3vw, 2rem); }
        
        /* Enhanced Color Contrast */
        .text-base-content {
            color: #1f2937;
        }
        
        .text-base-content-70 {
            color: #4b5563;
        }
        
        .text-base-content-50 {
            color: #6b7280;
        }
        
        .text-base-content-80 {
            color: #374151;
        }
        
        /* Enhanced Interactive Elements */
        .btn {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transition: left 0.3s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        /* Enhanced Image Hover Effects */
        .zoomable {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: zoom-in;
        }
        
        .zoomable:hover {
            transform: scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        /* Enhanced Mermaid Diagram Styling */
        .mermaid {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        /* Enhanced Progress Indicators */
        .progress-bar {
            background: linear-gradient(90deg, #0ea5e9, #06b6d4);
            border-radius: 50px;
            height: 4px;
            transition: width 0.3s ease;
        }
        
        /* Enhanced Badge Styling */
        .badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
    </style>
<body>

<a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-white px-4 py-2 rounded-lg z-50">Skip to main content</a>

<div class="gradient-bg"></div>

<nav class="navbar bg-base/95 backdrop-blur-sm shadow-lg sticky top-0 z-50 border-b border-base-200">
    <div class="navbar-start">
        <div class="dropdown">
            <div tabindex="0" role="button" class="btn btn-ghost lg:hover:bg-base-200 transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16" />
                </svg>
            </div>
            <ul tabindex="0" class="menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow-xl border border-base-200">
                <li><a href="#journey" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded">The Journey</a></li>
                <li><a href="#act1" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded">Act I: The Foundation</a></li>
                <li><a href="#act2" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded">Act II: The Builder</a></li>
                <li><a href="#act3" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded">Act III: The Platform Strategist</a></li>
            </ul>
        </div>
        <a href="index.html" class="btn btn-ghost text-xl font-serif font-bold hover:bg-base-200 transition-all duration-200 rounded-lg px-4">
            Kunal Katre
        </a>
    </div>
    <div class="navbar-center hidden lg:flex">
        <ul class="menu menu-horizontal px-1">
            <li>
                <details class="dropdown dropdown-end">
                    <summary class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded-lg px-3 py-2 cursor-pointer">
                        The Journey
                    </summary>
                    <ul class="p-2 shadow-xl menu-sm dropdown-content bg-base-100 rounded-box border border-base-200 mt-1">
                        <li><a href="#act1" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded">Act I: The Foundation</a></li>
                        <li><a href="#act2" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded">Act II: The Builder</a></li>
                        <li><a href="#act3" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded">Act III: The Platform Strategist</a></li>
                    </ul>
                </details>
            </li>
            <li><a href="#process" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded-lg px-3 py-2">Design Process</a></li>
            <li><a href="cv.html" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded-lg px-3 py-2">Résumé</a></li>
            <li><a href="#contact" class="text-base-content/70 hover:text-primary hover:bg-base-200 transition-all duration-200 rounded-lg px-3 py-2">About & Contact</a></li>
        </ul>
    </div>
    <div class="navbar-end">
        <a href="#contact" class="btn btn-primary text-base-content hover:bg-primary/90 transition-all duration-200 rounded-lg px-4">
            About & Contact
        </a>
    </div>
    <div class="navbar-end md:hidden">
        <button id="mobile-menu-button" class="btn btn-ghost hover:bg-base-200 transition-colors duration-200 rounded-lg p-2" aria-label="Toggle mobile menu">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
    </div>
</nav>

<!-- Mobile Menu Overlay -->
<div id="mobile-menu-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-40 hidden lg:hidden">
    <div class="fixed inset-y-0 left-0 w-64 bg-base/95 backdrop-blur-sm shadow-xl border-r border-base-200">
        <div class="p-6">
            <div class="flex items-center justify-between mb-8">
                <h3 class="text-lg font-semibold text-base-content">Menu</h3>
                <button id="close-mobile-menu" class="btn btn-ghost btn-sm hover:bg-base-200 rounded-lg p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <nav class="space-y-2">
                <a href="#journey" class="block px-4 py-3 text-base-content/70 hover:text-primary hover:bg-base-200 rounded-lg transition-all duration-200">The Journey</a>
                <a href="#act1" class="block px-4 py-3 text-base-content/70 hover:text-primary hover:bg-base-200 rounded-lg transition-all duration-200">Act I: The Foundation</a>
                <a href="#act2" class="block px-4 py-3 text-base-content/70 hover:text-primary hover:bg-base-200 rounded-lg transition-all duration-200">Act II: The Builder</a>
                <a href="#act3" class="block px-4 py-3 text-base-content/70 hover:text-primary hover:bg-base-200 rounded-lg transition-all duration-200">Act III: The Platform Strategist</a>
                <a href="#process" class="block px-4 py-3 text-base-content/70 hover:text-primary hover:bg-base-200 rounded-lg transition-all duration-200">Design Process</a>
                <a href="cv.html" class="block px-4 py-3 text-base-content/70 hover:text-primary hover:bg-base-200 rounded-lg transition-all duration-200">Résumé</a>
                <a href="#contact" class="block px-4 py-3 text-base-content/70 hover:text-primary hover:bg-base-200 rounded-lg transition-all duration-200">About & Contact</a>
            </nav>
        </div>
    </div>
</div>

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <main id="main-content" class="py-12 sm:py-16 lg:py-20">

        <!-- Case Study Hero Section -->
        <div class="grid md:grid-cols-2 gap-8 lg:gap-16 items-center py-8 lg:py-16 mb-8 lg:mb-32">
            <div class="flex flex-col animate-fade-in">
                <a href="index.html#act2" class="text-base-content/70 hover:text-primary no-underline mb-6 flex items-center gap-2 transition-all duration-300 hover:translate-x-[-2px] focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 rounded-lg p-2" aria-label="Back to Journey">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    <span>← Back to Journey</span>
                </a>
                <div class="flex items-center gap-3 mb-6">
                    <span class="text-sm text-base-content/50 font-medium">Project for</span>
                    <img src="assets/eka-logo.svg" alt="Eka Care logo" class="h-8 drop-shadow-sm">
                </div>
                <h1 class="font-serif text-4xl md:text-5xl lg:text-6xl mb-6 leading-tight tracking-tight">Designing for a Nation in Crisis</h1>
                <p class="text-xl md:text-2xl text-base-content/70 max-w-[45ch] mb-12 leading-relaxed">I led the design for a platform that navigated extreme public anxiety and technical chaos to facilitate over 2 crore vaccine certificate downloads.</p>
                <div class="stats stats-horizontal shadow-lg join animate-slide-up">
                    <div class="stat bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200">
                        <div class="stat-value text-2xl font-bold text-blue-900">+2 Crore</div>
                        <div class="stat-title text-blue-700 font-medium">Vaccine Certificates</div>
                    </div>
                    <div class="stat bg-gradient-to-br from-green-50 to-green-100 border border-green-200">
                        <div class="stat-value text-2xl font-bold text-green-900">#1</div>
                        <div class="stat-title text-green-700 font-medium">on Google Search</div>
                    </div>
                    <div class="stat bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200">
                        <div class="stat-value text-2xl font-bold text-purple-900">~2 Months</div>
                        <div class="stat-title text-purple-700 font-medium">Initial Launch</div>
                    </div>
                </div>
            </div>
            <div class="flex justify-center animate-scale-in">
                <div class="relative w-full max-w-[420px] aspect-[9/16] bg-gradient-to-br from-slate-900 to-slate-700 rounded-[48px] p-4 shadow-2xl cursor-zoom-in transform transition-all duration-500 hover:scale-[1.02] hover:shadow-3xl focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 rounded-lg" tabindex="0" role="button" aria-label="Zoom in to view Co-WIN certificate download interface">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-[44px] pointer-events-none"></div>
                    <img src="assets/cowin/cowin-hero-visual.png" alt="Eka Care app showing the Co-WIN certificate download interface" class="w-full h-full object-cover rounded-[36px] shadow-inner">
                    <div class="absolute bottom-4 left-4 right-4">
                        <div class="bg-white/10 backdrop-blur-sm rounded-lg p-2 border border-white/20">
                            <div class="flex items-center justify-between text-white/80 text-xs">
                                <span>Co-WIN Integration</span>
                                <span class="flex items-center gap-1">
                                    <div class="w-1 h-1 bg-green-400 rounded-full animate-pulse"></div>
                                    Live
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Hero Section -->

        <div class="grid md:grid-cols-[1fr,240px] gap-8 lg:gap-16 items-start">

            <div class="md:col-span-1">
                <!-- =================================================================== -->
                <!-- SECTION 1: THE SETUP -->
                <!-- =================================================================== -->
                <section id="setup" class="mb-8 lg:mb-32 pt-8 lg:pt-20 -mt-8 lg:-mt-20 animate-slide-up">
                    <div class="mb-8">
                        <div class="inline-flex items-center gap-3 px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-medium mb-6" role="status" aria-live="polite">
                            <div class="w-2 h-2 bg-primary rounded-full animate-pulse"></div>
                            <span>Project Overview</span>
                        </div>
                        <h2 class="font-serif text-4xl md:text-5xl lg:text-6xl text-primary mb-6 leading-tight">1. The Setup: A High-Stakes Mandate</h2>
                    </div>
                    <div class="prose prose-lg max-w-none text-base-content/80 leading-relaxed">
                        <p>In 2021, India faced a monumental challenge: vaccinating its population amidst a devastating pandemic wave. The government released the Co-WIN APIs, creating a sudden, urgent opportunity. The business goal for Eka.Care was clear: leverage these APIs to build a superior, trustworthy public utility that could capture a massive, anxious user base and establish us as a key player in India's digital health ecosystem.</p>
                    </div>

                    <div class="mt-12">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                            </div>
                            <h3 class="font-serif text-2xl md:text-3xl text-base-content">The User's Reality: A State of Panic</h3>
                        </div>
                        <p class="text-lg text-base-content/80 max-w-[70ch] mb-8 leading-relaxed">The public sentiment was not one of simple "user needs"; it was a state of crisis. My rapid research into online forums, social media, and news reports revealed the core user anxieties:</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-8">
                            <div class="card bg-gradient-to-br from-red-50 to-orange-50 border border-red-200 p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                <div class="flex justify-center items-center w-16 h-16 bg-red-100 rounded-full mb-6 mx-auto shadow-sm">
                                    <svg class="w-8 h-8 text-red-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                                </div>
                                <h5 class="font-serif text-xl mb-4 text-red-900 font-semibold">Availability Anxiety</h5>
                                <blockquote class="italic text-red-800 text-lg leading-relaxed">"Will I ever find a slot for my elderly parents? I've been trying for days."</blockquote>
                            </div>
                            <div class="card bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                <div class="flex justify-center items-center w-16 h-16 bg-blue-100 rounded-full mb-6 mx-auto shadow-sm">
                                    <svg class="w-8 h-8 text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                                </div>
                                <h5 class="font-serif text-xl mb-4 text-blue-900 font-semibold">Trust & Legitimacy</h5>
                                <blockquote class="italic text-blue-800 text-lg leading-relaxed">"Is this third-party app even legitimate? How do I know it's safe to give them my Aadhar number?"</blockquote>
                            </div>
                            <div class="card bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                <div class="flex justify-center items-center w-16 h-16 bg-purple-100 rounded-full mb-6 mx-auto shadow-sm">
                                    <svg class="w-8 h-8 text-purple-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                                </div>
                                <h5 class="font-serif text-xl mb-4 text-purple-900 font-semibold">Information Gaps</h5>
                                <blockquote class="italic text-purple-800 text-lg leading-relaxed">"How do I know this information is real and not a waste of my time? Is the slot even still there?"</blockquote>
                            </div>
                        </div>
                    </div>
                      
                    <div class="mt-12 p-8 bg-gradient-to-r from-slate-50 to-blue-50 border border-slate-200 rounded-xl">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <h3 class="font-serif text-2xl md:text-3xl text-primary">My Role: Designer as a De-risking Agent</h3>
                        </div>
                        <p class="text-lg text-base-content/80 leading-relaxed">As the sole designer on this initiative, I was tasked with creating a functional UX under an extreme "one-day delivery mode" timeline. With no PM, my role expanded significantly. I was responsible for de-risking the project by defining requirements, analyzing technical constraints, and creating a clear plan of action that the entire cross-functional team could rally behind.</p>
                    </div>
                </section>


                <!-- =================================================================== -->
                <!-- SECTION 2: DISCOVERY -->
                <!-- =================================================================== -->
                <!-- [REPLACE THIS ENTIRE SECTION] -->
<section id="research">
    <h2 class="font-serif text-2xl text-primary">2. Discovery: Finding Signal in the Noise</h2>
    <p class="text-lg text-base-content max-w-[70ch]">The existing official portal was functional but overwhelmed, creating a significant "trust gap." Users were desperate for an alternative that was not just faster, but clearer and more reliable. My discovery process started with the technology itself to understand our exact capabilities.</p>

    <h4 class="font-serif text-xl mt-8 mb-4">Deconstructing the Technical Foundation</h4>
    <p class="text-lg text-base-content max-w-[70ch]">My first step was a deep dive into the technical foundation—the Co-WIN APIs. Instead of just reading the docs, I deconstructed them into a clear, grouped list to understand our building blocks. This helped the entire team, including non-technical stakeholders, grasp what was possible.</p>

    <!-- [NEW] API Docs Component -->
    <div class="card bg-base-100 p-8 rounded-lg border border-base-300 mb-16 shadow-md">
        <div class="border border-base-300 rounded-lg mb-4 overflow-hidden">
            <details>
                <summary class="flex justify-between items-center p-4 cursor-pointer bg-base-200 hover:bg-base-300 transition-colors">
                    <h4 class="font-semibold text-lg text-base-content">Metadata APIs</h4>
                    <div class="w-5 h-5 border-r-2 border-b-2 border-base-content transform rotate-45 transition-transform duration-200"></div>
                </summary>
                <div class="p-2">
                    <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/admin/location/states</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Get states</span>
                    </div>
                    <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/admin/location/districts/{state_id}</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Get list of districts</span>
                    </div>
                </div>
            </details>
        </div>
        <div class="border border-base-300 rounded-lg mb-4 overflow-hidden">
            <details open>
                <summary class="flex justify-between items-center p-4 cursor-pointer bg-base-200 hover:bg-base-300 transition-colors">
                    <h4 class="font-semibold text-lg text-base-content">Appointment Availability APIs</h4>
                    <div class="w-5 h-5 border-r-2 border-b-2 border-base-content transform rotate-225 transition-transform duration-200"></div>
                </summary>
                <div class="p-2">
                    <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/appointment/sessions/public/findByPin</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Get vaccination sessions by PIN</span>
                    </div>
                    <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/appointment/sessions/public/findByDistrict</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Get vaccination sessions by district</span>
                    </div>
                    <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/appointment/centers/public/findByLatLong</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Get vaccination centers by latitude and longitude. [Draft]</span>
                    </div>
                    <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/appointment/sessions/public/calendarByPin</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Get vaccination sessions by PIN for 7 days</span>
                    </div>
                      <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/appointment/sessions/public/calendarByDistrict</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Get vaccination sessions by district for 7 days</span>
                    </div>
                      <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/appointment/sessions/public/calendarByCenter</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Get vaccination sessions by center for 7 days. [Draft]</span>
                    </div>
                </div>
            </details>
        </div>
        <div class="border border-base-300 rounded-lg mb-4 overflow-hidden">
            <details>
                <summary class="flex justify-between items-center p-4 cursor-pointer bg-base-200 hover:bg-base-300 transition-colors">
                    <h4 class="font-semibold text-lg text-base-content">Certificate APIs</h4>
                    <div class="w-5 h-5 border-r-2 border-b-2 border-base-content transform rotate-45 transition-transform duration-200"></div>
                </summary>
                <div class="p-2">
                    <div class="flex items-center gap-4 p-4 rounded-lg hover:bg-base-200 transition-colors">
                        <span class="px-3 py-1 rounded text-sm font-bold bg-primary text-primary-content">GET</span>
                        <code class="font-mono text-sm text-base-content">/v2/registration/certificate/public/download</code>
                        <span class="ml-auto text-sm text-base-content/50 flex items-center gap-2">Download vaccination certificate in PDF format by beneficiary reference id
                            <svg class="text-base-content/50 opacity-75" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 1.5A5.25 5.25 0 006.75 6.75v3H6a3 3 0 00-3 3v6a3 3 0 003 3h12a3 3 0 003-3v-6a3 3 0 00-3-3h-.75v-3A5.25 5.25 0 0012 1.5zM8.25 6.75a3.75 3.75 0 017.5 0v3h-7.5v-3z"></path></svg>
                        </span>
                    </div>
                </div>
            </details>
        </div>
    </div>

    <h4 class="font-serif text-xl mt-8 mb-4">The "Search Near Me" Insight</h4>
    <div class="alert bg-warning/20 border-l-4 border-warning p-8 rounded-r-lg mb-16">
        <p class="text-lg text-base-content"><strong>Key Insight:</strong> While the APIs provided basic search by PIN and District, I identified a critical gap: there was no single API for a simple, location-aware "search near me." Competitors were just replicating the basic government portal forms, forcing users to manually find and enter their PIN or district.</p>
        <p class="text-lg text-base-content"><strong>My Strategic Solution:</strong> I proposed a new user flow. By first requesting the user's device location (with their permission), we could programmatically determine their current Pincode. We could then feed this data into the existing <code>.../findByPin</code> API. This seemingly small step created a "one-tap" search experience that was vastly superior and less stressful for a user in a panic. It became our single biggest UX differentiator.</p>
    </div>

    <h4 class="font-serif text-xl mt-8 mb-4">Mapping the Anxiety Journey</h4>
    <p class="text-lg text-base-content max-w-[70ch]">This technical understanding, combined with the "Search Near Me" insight, allowed me to frame the user's emotional state. I synthesized this into a journey map that became our team's guiding star, ensuring we focused on reducing anxiety at every step.</p>
    <figure class="mb-16">
        <img src="assets/cowin/fig2-failure-map.png" alt="A simplified User Journey Map showing stages like 'Initial Panic,' 'Search for Hope,' 'Evaluate Options,' and 'The Final Confirmation.'" class="w-full rounded-lg border border-base-300 cursor-zoom-in shadow-md">
        <figcaption class="text-center text-sm text-base-content/50 mt-4 max-w-[60ch] mx-auto">Fig.1 - I mapped the user's emotional journey to align the team on our primary goal: reducing anxiety. (Click to zoom)</figcaption>
    </figure>
</section>

                <!-- =================================================================== -->
                <!-- SECTION 3: DESIGN GOALS -->
                <!-- =================================================================== -->
                <section id="goals" class="mb-32">
                    <div class="mb-8">
                        <div class="inline-flex items-center gap-3 px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-medium mb-6">
                            <div class="w-2 h-2 bg-primary rounded-full animate-pulse"></div>
                            Design Principles
                        </div>
                        <h2 class="font-serif text-4xl md:text-5xl lg:text-6xl text-primary mb-6 leading-tight">3. The Three Pillars of Trust</h2>
                    </div>
                    <p class="text-lg text-base-content/80 max-w-[70ch] mb-12 leading-relaxed">Based on the journey map and user anxieties, I established three core design principles that became our unwavering guide for every feature and decision.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                        <div class="pillar-card bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                            <div class="flex items-center justify-between mb-6">
                                <div class="w-16 h-16 bg-blue-500 text-white rounded-2xl flex items-center justify-center text-2xl font-bold shadow-lg">
                                    1
                                </div>
                                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                    <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                            <h3 class="font-serif text-2xl mb-4 text-blue-900 font-semibold">Radical Transparency</h3>
                            <p class="text-blue-800 leading-relaxed">Show everything, hide nothing. To build trust, we had to be more comprehensive and forthcoming than the official sources, even if it meant showing "bad news" (like no available slots).</p>
                        </div>
                        
                        <div class="pillar-card bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                            <div class="flex items-center justify-between mb-6">
                                <div class="w-16 h-16 bg-green-500 text-white rounded-2xl flex items-center justify-center text-2xl font-bold shadow-lg">
                                    2
                                </div>
                                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                    <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                            <h3 class="font-serif text-2xl mb-4 text-green-900 font-semibold">Honest Expectation Management</h3>
                            <p class="text-green-800 leading-relaxed">Never overpromise. Be explicit about data freshness and potential failures to prevent the user frustration that comes from chasing non-existent "ghost" slots.</p>
                        </div>
                        
                        <div class="pillar-card bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                            <div class="flex items-center justify-between mb-6">
                                <div class="w-16 h-16 bg-purple-500 text-white rounded-2xl flex items-center justify-center text-2xl font-bold shadow-lg">
                                    3
                                </div>
                                <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                                    <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                            <h3 class="font-serif text-2xl mb-4 text-purple-900 font-semibold">Anxiety-Proof Confirmation</h3>
                            <p class="text-purple-800 leading-relaxed">The end of the flow must be a definitive, reassuring "contract" that contains every piece of necessary information, leaving absolutely no room for doubt or last-minute questions.</p>
                        </div>
                    </div>
                </section>

                <!-- =================================================================== -->
                <!-- SECTION 4: DESIGN & EXECUTION -->
                <!-- =================================================================== -->
                <section id="design">
                    <h2 class="font-serif text-2xl">4. Design & Execution</h2>
                    <p class="text-base-content">Guided by our three pillars of trust, I designed the two most critical user journeys: booking a slot and downloading a certificate. The execution focused on providing clarity and control at every step, transforming high-anxiety tasks into reassuring experiences. The following sections break down the final flows and the specific design decisions that made them effective.</p>

                    <div class="flowchart-container journey-flowchart zoomable">
                        <div class="mermaid">
                           graph TD
                                A(Start) --> B[Select 'Co-WIN Services'];
                                B --> C{Choose Task};

                                subgraph "Download Certificate Flow"
                                    C --> C1[Download Certificate];
                                    C1 --> D[Authenticate via OTP];
                                    D --> E[Select Beneficiary];
                                    E --> F[Download Successful];
                                    F --> G[View Rich Success Page <br><em>Incl. Cross-Sell & Next Steps</em>];
                                end
                                
                                subgraph "Book Slot Flow"
                                    C --> C2[Book Slot];
                                    C2 --> H[Authenticate via OTP];
                                    H --> I{Search Method};
                                    I --> I1[By Pin Code];
                                    I --> I2[By District];
                                    I1 --> J[View Results];
                                    I2 --> J;
                                    J --> K[Select Center & Slot];
                                    K --> L[Confirm Booking];
                                    L --> M[Booking Success Page];
                                end

                                subgraph "Link Passport Flow"
                                    C --> C3[Link Passport];
                                    C3 --> N[Authenticate via OTP];
                                    N --> O[Select Beneficiary];
                                    O --> P[Enter Passport Details];
                                    P --> Q[Submit & Confirm];
                                    Q --> R[Linking Success Page];
                                end

                                classDef core fill:#eef2f7,stroke:#3d5a80,stroke-width:2px,color:#3d405b,font-weight:bold;
                                class A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R core;
                        </div>
                       <figcaption>Fig. 2 - The complete Co-WIN services user flow, mapping all critical paths from a single entry point. (Click to zoom & pan)</figcaption>
                   </div>

                   <h3>4.1 Flow: Booking a Vaccination Slot</h3>
                   <p class="text-base-content">The slot booking process was the epicenter of user anxiety. My goal was to create a flow that was not only functional but actively worked to calm the user. I designed it to provide maximum information and control, ensuring users felt guided and empowered, not lost in a chaotic race for slots.</p>
                   
                   <figure class="case-study__visual-artifact zoomable">
                       <img src="assets/cowin/book-flow-1.png" alt="The complete user flow for booking a vaccination slot, from the beneficiary list to the final confirmation screen.">
                       <figcaption>Fig. 2 - The final booking flow, designed for clarity, transparency, and anxiety reduction at every step.</figcaption>
                   </figure>

                   <h4 class="font-serif text-lg">Highlights & Design Rationale:</h4>
                   <div class="highlight-list">
                       <div class="highlight-item">
                           <h5>1. Proactive Filtering & Absolute Transparency (Search Results)</h5>
                           <p>Instead of hiding "bad news," we embraced it. The search results page showed <strong>all</strong> vaccination centers, clearly marking those with no available slots. This upheld our "Radical Transparency" principle, proving to the user that our data was comprehensive and trustworthy. For booked-out centers, we added a "Notify me" button—a small feature that provided immense hope and turned a dead end into a future opportunity.</p>
                       </div>
                       <div class="highlight-item">
                           <h5>2. Automated Slot Reservation (Auto Vaccine slot booking)</h5>
                           <p>One of the biggest user frustrations was "ghost slots"—slots that vanished the instant they were selected. To combat this, I designed an intermediate "booking in progress" screen. When a user selected a center, our system would attempt to hold a slot for a short period (e.g., 60 seconds). This small buffer transformed the experience from a frantic race into a more controlled process, assuring the user that the app was actively working on their behalf.</p>
                       </div>
                       <div class="highlight-item">
                           <h5>3. The Anxiety-Proof Confirmation (Appointment Confirmed)</h5>
                           <p>The final confirmation screen was designed as an "anxiety-proof contract." It contained every critical piece of information: Hospital Name, Address, Date, Time, Beneficiary Name, Reference ID, and Vaccine Type. By over-communicating at this final step, we left no room for doubt or last-minute questions, ensuring the user could confidently proceed to their appointment.</p>
                       </div>
                   </div>

                   <!-- 4.2 DOWNLOAD FLOWS -->
                   <h3>4.2 Flows: Downloading the Vaccine Certificate</h3>
                   <p>The certificate download was our single biggest user acquisition channel. Recognizing that users would arrive with different contexts and levels of urgency, I designed two distinct "smart" flows to get them their certificate as frictionlessly as possible.</p>

                   <h4>Path 1: The Direct Download Flow</h4>
                   <p>This path was for the user who arrives with a clear, singular goal: "I need my certificate now." The entire flow was optimized for speed and clarity.</p>
                   <figure class="case-study__visual-artifact zoomable">
                       <img src="assets/cowin/download-flow-1.png" alt="The user flow for directly downloading a Co-WIN certificate, from the homepage to the file being saved in the app.">
                       <figcaption>Fig. 3 - The explicit download flow, initiated by the user from a clear call-to-action on the homepage.</figcaption>
                   </figure>
                   
                   <h4 class="font-serif text-lg">Highlights & Design Rationale:</h4>
                   <div class="highlight-list">
                       <div class="highlight-item">
                           <h5>1. A Clear, Task-Based Entry Point (Homepage Trigger)</h5>
                           <p>We placed a prominent "Download Vaccination Certificate" card on the homepage. This clear, task-oriented entry point eliminated ambiguity and allowed users to immediately self-identify their goal and begin the process without navigating complex menus.</p>
                       </div>
                       <div class="highlight-item">
                           <h5>2. Seamless Integration into the "Files" Vault (Landing on "File")</h5>
                           <p>After a successful download, we didn't just save the PDF to the device's downloads folder and abandon the user. We automatically imported it into the app's "My Files" section. This was a key strategic decision to increase retention. It transformed a one-time utility into a permanent health record vault, giving users a compelling reason to return to Eka.Care.</p>
                       </div>
                   </div>

                   <h4 class="font-serif text-lg">Path 2: The Proactive "Smart Download" Flow</h4>
                   <p class="text-base-content">This was our "magic moment" flow. It was designed for existing users who might not even be thinking about their certificate. The app would proactively work for them in the background, creating a delightful and surprising experience.</p>
                   <figure class="case-study__visual-artifact zoomable">
                       <img src="assets/cowin/download-flow-2.png" alt="The automated flow where the app proactively downloads certificates for vaccinated beneficiaries and notifies the user.">
                       <figcaption>Fig. 4 - The proactive, automated flow that fetches certificates in the background, turning a chore into a delightful surprise.</figcaption>
                   </figure>

                   <h4 class="font-serif text-lg">Highlights & Design Rationale:</h4>
                   <div class="highlight-list">
                       <div class="highlight-item">
                           <h5>1. Context-Aware Automation (Auto download of certificate)</h5>
                           <p>When a user logged in to check their family's vaccination status, our system would intelligently identify beneficiaries who were fully vaccinated but whose certificates weren't yet in the Eka Vault. It would then automatically fetch the certificates in the background, indicated by a subtle "Downloading..." status. This proactive assistance saved the user a step they didn't even know they needed to take.</p>
                       </div>
                       <div class="highlight-item">
                           <h5>2. Turning Success into Engagement (Notifying the download complete)</h5>
                           <p>The confirmation wasn't a simple "Done." It was a rich, contextual pop-up that celebrated the success ("We found vaccine certificates for...") and immediately demonstrated the value of our platform ("Store & share your medical records in a secure vault."). This transformed a background task into a powerful cross-sell moment, using the trust and delight we'd just earned to deepen engagement with our core Eka Vault feature.</p>
                       </div>
                   </div>
                </section>
                


                <!-- =================================================================== -->
                <!-- SECTION 5: IMPACT & LEARNINGS -->
                <!-- =================================================================== -->
                <section id="impact">
                    <h2 class="font-serif text-2xl text-primary">5. Impact: Dominating the Market Through Trust</h2>
                    <p class="text-lg text-base-content max-w-[70ch]">Our principle-led approach was a monumental success. By focusing relentlessly on user anxiety, we built one of the most trusted and widely-used vaccination tools in the country, becoming a primary national resource and Eka.Care's single biggest growth engine.</p>
                     
                    <figure class="case-study__visual-artifact">
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                            <div class="stat-card bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                        </svg>
                                    </div>
                                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                </div>
                                <div class="stat-value text-3xl font-bold mb-2">#1</div>
                                <div class="stat-title text-blue-100 text-sm font-medium">App Store Rank<br><span class="text-blue-200/80">in Health & Fitness</span></div>
                            </div>
                            <div class="stat-card bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                    </div>
                                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                </div>
                                <div class="stat-value text-3xl font-bold mb-2">1.4L+</div>
                                <div class="stat-title text-green-100 text-sm font-medium">Peak Throughput<br><span class="text-green-200/80">Certificates / Day</span></div>
                            </div>
                            <div class="stat-card bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                        </svg>
                                    </div>
                                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                </div>
                                <div class="stat-value text-3xl font-bold mb-2">~8K</div>
                                <div class="stat-title text-purple-100 text-sm font-medium">Organic Installs<br><span class="text-purple-200/80">Daily at peak</span></div>
                            </div>
                            <div class="stat-card bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                        </svg>
                                    </div>
                                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                </div>
                                <div class="stat-value text-3xl font-bold mb-2">2 Cr+</div>
                                <div class="stat-title text-orange-100 text-sm font-medium">Total Downloads<br><span class="text-orange-200/80">Vaccine Certificates</span></div>
                            </div>
                        </div>
                        <figcaption class="text-center text-sm text-base-content/50 mt-6">Fig. 2 - The feature's focus on a clear, anxiety-reducing flow drove massive organic growth and platform adoption.</figcaption>
                    </figure>

                    <h3 class="font-serif text-xl mt-8 mb-4">Key Learnings & Reflections</h3>
                    <ul class="space-y-4">
                        <li><strong class="text-primary">In a Crisis, Clarity is the Most Valuable Feature.</strong> This project was a powerful lesson in context-driven design. The "best" design isn't always the cleanest or most minimal; in this case, it was the most explicit, reassuring, and information-dense.</li>
                        <li><strong class="text-primary">Lead with Artifacts, Not Opinions.</strong> In a high-speed, low-spec environment, well-designed artifacts (journey maps, user flows, annotated wireframes) are the fastest way to create alignment and de-risk development. They become the plan when there's no time to write one.</li>
                        <li><strong class="text-primary">Design the System, Not Just the Screen.</strong> Our biggest wins came from thinking about the entire user journey—from managing expectations *before* the search to providing value *after* the download. This systemic approach is what created sustainable trust and growth.</li>
                    </ul>
                </section>

                <section class="next-case-study mb-32">
                    <div class="text-center mb-8">
                        <div class="inline-flex items-center gap-3 px-4 py-2 bg-gradient-to-r from-primary/10 to-secondary/10 text-primary rounded-full text-sm font-medium mb-4">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                            </svg>
                            Continue Reading
                        </div>
                        <h3 class="font-serif text-2xl md:text-3xl text-base-content">Next Case Study</h3>
                    </div>
                    <a href="case-study-heart-rate.html" class="no-underline group">
                        <article class="bg-gradient-to-br from-base-100 to-base-50 border border-base-200 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group-hover:-translate-y-1">
                            <div class="flex flex-col md:flex-row gap-6">
                                <div class="flex-shrink-0">
                                    <div class="w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl flex items-center justify-center shadow-md">
                                        <img src="https://logo.clearbit.com/eka.care" alt="Eka.Care logo" class="w-10 h-10 object-contain">
                                    </div>
                                </div>
                                <div class="flex-grow">
                                    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                                        <div>
                                            <h3 class="font-serif text-xl md:text-2xl text-base-content mb-2 group-hover:text-primary transition-colors">Heart Rate Monitor Turnaround</h3>
                                            <span class="text-base-content/60 text-sm">Founding Designer at Eka.Care | 2021</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-primary">
                                            <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                            </svg>
                                        </div>
                                    </div>
                                    <p class="text-base-content/70 leading-relaxed mb-4">See how I transformed a failing feature into a core driver of user retention and business value through strategic design interventions.</p>
                                    <div class="flex items-center gap-4 text-sm text-base-content/50">
                                        <span class="flex items-center gap-1">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                            </svg>
                                            6 min read
                                        </span>
                                        <span class="flex items-center gap-1">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707v11a2 2 0 01-2 2z"></path>
                                            </svg>
                                            Case Study
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </a>
                </section>
            </div>
            
            <aside class="case-study-toc-sidebar sticky top-24">
                <nav aria-label="Case study sections" class="bg-base/80 backdrop-blur-sm border border-base-200 rounded-xl p-6 shadow-lg">
                    <div class="flex items-center gap-2 mb-6">
                        <div class="w-2 h-2 bg-primary rounded-full"></div>
                        <h4 class="font-semibold text-base-content/90 text-lg">On this page</h4>
                    </div>
                    <div class="toc-links-wrapper space-y-2">
                        <a href="#setup" class="toc-link is-active flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 bg-primary/10 text-primary border border-primary/20">
                            <span class="text-sm font-medium">1.</span>
                            <span class="text-sm font-medium">The Setup</span>
                        </a>
                        <a href="#research" class="toc-link flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-base-200 text-base-content/70 hover:text-base-content">
                            <span class="text-sm font-medium">2.</span>
                            <span class="text-sm font-medium">Discovery</span>
                        </a>
                        <a href="#goals" class="toc-link flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-base-200 text-base-content/70 hover:text-base-content">
                            <span class="text-sm font-medium">3.</span>
                            <span class="text-sm font-medium">The Three Pillars</span>
                        </a>
                        <a href="#design" class="toc-link flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-base-200 text-base-content/70 hover:text-base-content">
                            <span class="text-sm font-medium">4.</span>
                            <span class="text-sm font-medium">Design & Execution</span>
                        </a>
                        <a href="#impact" class="toc-link flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-base-200 text-base-content/70 hover:text-base-content">
                            <span class="text-sm font-medium">5.</span>
                            <span class="text-sm font-medium">Impact & Learnings</span>
                        </a>
                    </div>
                    <div class="mt-6 pt-6 border-t border-base-200">
                        <div class="flex items-center gap-2 text-xs text-base-content/50">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span>Reading time: ~8 min</span>
                        </div>
                    </div>
                </nav>
            </aside>
        </div>
    </main>
</div>

<!-- Universal Lightbox for Images and SVGs -->
<div id="lightbox" class="lightbox">
    <button class="lightbox__close" aria-label="Close zoomed view">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
    </button>
    <div class="lightbox__content">
        <!-- Zoomable content will be injected here by JS -->
    </div>
    <div class="lightbox__controls">
        <button class="lightbox__control" id="zoom-in" aria-label="Zoom in" title="Zoom in">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"></path>
            </svg>
        </button>
        <button class="lightbox__control" id="zoom-out" aria-label="Zoom out" title="Zoom out">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"></path>
            </svg>
        </button>
        <button class="lightbox__control" id="zoom-reset" aria-label="Reset zoom" title="Reset zoom">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
            </svg>
        </button>
        <div class="lightbox__divider"></div>
        <button class="lightbox__control" id="download" aria-label="Download" title="Download">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
        </button>
    </div>
    <div class="lightbox__info">
        <span class="lightbox__counter"></span>
        <span class="lightbox__instructions">Use mouse wheel to zoom • Drag to pan • ESC to close</span>
    </div>
</div>

<script src="script.js"></script>

<!-- Load Mermaid JS with enhanced configuration -->
<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.mjs';
    
    // Enhanced Mermaid configuration
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        themeVariables: {
            primaryColor: '#0ea5e9',
            primaryTextColor: '#1f2937',
            primaryBorderColor: '#e5e7eb',
            lineColor: '#6b7280',
            secondaryColor: '#f3f4f6',
            tertiaryColor: '#ffffff',
            primaryBkg: '#ffffff',
            secondaryBkg: '#f9fafb',
            tertiaryBkg: '#f3f4f6',
            primaryTextColor: '#1f2937',
            primaryBorderColor: '#e5e7eb',
            primaryColor: '#0ea5e9',
            primaryFontColor: '#1f2937',
            secondaryFontColor: '#6b7280',
            tertiaryFontColor: '#9ca3af'
        },
        flowchart: {
            htmlLabels: true,
            curve: 'basis'
        },
        sequence: {
            actorMargin: 50,
            width: 150,
            height: 65,
            boxMargin: 10,
            boxTextMargin: 5,
            noteMargin: 10,
            messageMargin: 35
        },
        gantt: {
            titleTopMargin: 25,
            barHeight: 20,
            barGap: 4,
            topPadding: 50,
            leftPadding: 75,
            gridLineStartPadding: 35,
            fontSize: 11,
            sectionFontSize: 11,
            numberSectionStyles: 4
        },
        journey: {
            titleTopMargin: 25,
            boxWidth: 50,
            boxHeight: 36,
            circleRadius: 15,
            circlePadding: 5,
            lineHeight: 40,
            lineTop: 5,
            lineLeft: 0,
            lineCircleSize: 6,
            linePadding: 10,
            messageTextPadding: 5,
            messageMargin: 5,
            messageFontSize: 14,
            messageFontColor: '#1f2937',
            messageBgColor: '#ffffff',
            messageBorderColor: '#e5e7eb',
            messageBorderRadius: 3,
            alternate: true,
            alternateDirection: true,
            showLegend: false,
            legendWidth: 100,
            legendPosition: 'bottom',
            boxMargin: 10,
            boxTextMargin: 5,
            taskTextMargin: 5,
            activeTaskColor: '#0ea5e9',
            activeTaskBorder: '#0ea5e9',
            completedTaskColor: '#10b981',
            completedTaskBorder: '#10b981',
            futureTaskColor: '#f3f4f6',
            futureTaskBorder: '#e5e7eb',
            titleColor: '#1f2937',
            axisColor: '#6b7280',
            axisLabelColor: '#6b7280',
            gridColor: '#e5e7eb',
            todayColor: '#ef4444',
            todayBorder: '#ef4444'
        }
    });
    
    // Enhanced Mermaid rendering with error handling
    try {
        await mermaid.run();
        
        // Add interactive features to diagrams
        document.querySelectorAll('.mermaid').forEach(diagram => {
            diagram.style.cursor = 'pointer';
            diagram.setAttribute('role', 'img');
            diagram.setAttribute('aria-label', 'Interactive diagram');
            
            diagram.addEventListener('click', () => {
                // Create a modal with the diagram
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4';
                modal.innerHTML = `
                    <div class="bg-base rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-auto">
                        <div class="p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-base-content">Diagram</h3>
                                <button class="btn btn-ghost btn-sm hover:bg-base-200 rounded-lg p-1" onclick="this.closest('.fixed').remove()">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                            <div class="flex justify-center">
                                ${diagram.outerHTML}
                            </div>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
                
                // Close modal on escape key
                modal.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        modal.remove();
                    }
                });
                
                // Close modal on background click
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.remove();
                    }
                });
            });
        });
        
        // Add loading states for diagrams
        document.querySelectorAll('.mermaid').forEach(diagram => {
            const originalContent = diagram.innerHTML;
            diagram.innerHTML = '<div class="flex items-center justify-center p-8"><div class="loading loading-spinner loading-lg"></div></div>';
            
            // Simulate loading time
            setTimeout(() => {
                diagram.innerHTML = originalContent;
            }, 500);
        });
        
    } catch (error) {
        console.error('Mermaid initialization error:', error);
        // Fallback for diagrams that fail to render
        document.querySelectorAll('.mermaid').forEach(diagram => {
            diagram.innerHTML = '<div class="text-error p-4">Diagram failed to load</div>';
        });
    }
</script>

<!-- Load SVG Pan Zoom and Custom Lightbox Script -->
<script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    // Initialize all enhanced functionality
    initializeEnhancedTabsAndExplorers();
    initializeEnhancedLightbox();
    initializeSmoothScrolling();
    initializeAnimatedElements();
    initializeMobileMenu();
    initializeTableOfContents();
    initializeTooltips();
});

/**
 * Enhanced tab and explorer functionality with smooth transitions
 */
function initializeEnhancedTabsAndExplorers() {
    // Enhanced tab functionality for intervention containers
    document.querySelectorAll('.intervention-container').forEach(container => {
        const tabs = container.querySelectorAll('.intervention-tab');
        const contents = container.querySelectorAll('.intervention-content');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active state from all tabs
                tabs.forEach(t => {
                    t.classList.remove('is-active', 'scale-105');
                    t.style.transform = '';
                });
                
                // Add active state to clicked tab with animation
                tab.classList.add('is-active');
                tab.style.transform = 'scale(1.05)';
                
                // Find and show target content with fade animation
                const targetContent = container.querySelector(`.intervention-content[data-tab="${tab.dataset.tab}"]`);
                contents.forEach(c => {
                    c.classList.remove('is-active');
                    c.style.opacity = '0';
                    c.style.transform = 'translateY(10px)';
                });
                
                if (targetContent) {
                    targetContent.classList.add('is-active');
                    setTimeout(() => {
                        targetContent.style.transition = 'all 0.3s ease-out';
                        targetContent.style.opacity = '1';
                        targetContent.style.transform = 'translateY(0)';
                    }, 10);
                }
            });
        });
    });

    // Enhanced explorer functionality for iteration explorers
    document.querySelectorAll('.iteration-explorer').forEach(container => {
        const controls = container.querySelectorAll('.explorer-controls button');
        const images = container.querySelectorAll('.explorer-visuals .iteration-image, .explorer-visuals video');
        const rationales = container.querySelectorAll('.explorer-rationale .rationale-text');
        
        controls.forEach(control => {
            control.addEventListener('click', () => {
                const iteration = control.dataset.iteration;
                
                // Update control states with animation
                controls.forEach(c => {
                    c.classList.remove('is-active', 'ring-2', 'ring-primary');
                    c.style.transform = '';
                });
                
                control.classList.add('is-active', 'ring-2', 'ring-primary');
                control.style.transform = 'scale(1.05)';
                
                // Update images with fade transition
                images.forEach(img => {
                    const shouldShow = img.dataset.iteration === iteration;
                    if (shouldShow) {
                        img.classList.add('is-active');
                        img.style.opacity = '0';
                        img.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            img.style.transition = 'all 0.3s ease-out';
                            img.style.opacity = '1';
                            img.style.transform = 'scale(1)';
                        }, 10);
                    } else {
                        img.style.opacity = '0';
                        img.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            img.classList.remove('is-active');
                        }, 300);
                    }
                });
                
                // Update rationales with slide transition
                rationales.forEach(rat => {
                    const shouldShow = rat.dataset.iteration === iteration;
                    if (shouldShow) {
                        rat.classList.add('is-active');
                        rat.style.opacity = '0';
                        rat.style.transform = 'translateX(-20px)';
                        setTimeout(() => {
                            rat.style.transition = 'all 0.3s ease-out';
                            rat.style.opacity = '1';
                            rat.style.transform = 'translateX(0)';
                        }, 10);
                    } else {
                        rat.style.opacity = '0';
                        rat.style.transform = 'translateX(-20px)';
                        setTimeout(() => {
                            rat.classList.remove('is-active');
                        }, 300);
                    }
                });
            });
        });
    });
}

/**
 * Enhanced universal lightbox functionality with improved UX
 */
function initializeEnhancedLightbox() {
    const lightbox = document.getElementById('lightbox');
    if (!lightbox) return;

    const lightboxContent = lightbox.querySelector('.lightbox__content');
    const closeButton = lightbox.querySelector('.lightbox__close');
    const zoomInButton = document.getElementById('zoom-in');
    const zoomOutButton = document.getElementById('zoom-out');
    const zoomResetButton = document.getElementById('zoom-reset');
    const downloadButton = document.getElementById('download');
    const lightboxCounter = lightbox.querySelector('.lightbox__counter');
    const lightboxInstructions = lightbox.querySelector('.lightbox__instructions');
    
    let currentPanZoom;
    let imagePanState = {};
    let currentImageIndex = 0;
    let allImages = [];
    
    // Collect all zoomable elements
    function collectZoomableElements() {
        allImages = Array.from(document.querySelectorAll('.zoomable img, .zoomable svg, figure img, figure svg'));
    }
    
    /**
     * Open lightbox with enhanced animations
     */
    function openLightbox(element) {
        collectZoomableElements();
        currentImageIndex = allImages.indexOf(element);
        
        lightboxContent.innerHTML = '';
        
        const contentClone = element.cloneNode(true);
        lightboxContent.appendChild(contentClone);
        
        // Update counter
        if (lightboxCounter && allImages.length > 1) {
            lightboxCounter.textContent = `${currentImageIndex + 1} / ${allImages.length}`;
            lightboxCounter.style.opacity = '1';
        } else {
            lightboxCounter.style.opacity = '0';
        }
        
        // Show instructions
        lightboxInstructions.style.opacity = '1';
        
        // Animate lightbox opening
        lightbox.style.opacity = '0';
        lightbox.classList.add('is-visible');
        document.body.style.overflow = 'hidden';
        
        setTimeout(() => {
            lightbox.style.transition = 'opacity 0.3s ease-out';
            lightbox.style.opacity = '1';
        }, 10);

        const svgElement = contentClone.querySelector('svg');
        const imgElement = contentClone.matches('img') ? contentClone : contentClone.querySelector('img');

        if (svgElement) {
            initializeSvgPanZoom(svgElement, zoomInButton, zoomOutButton, zoomResetButton);
        } else if (imgElement) {
            initializeImagePanZoom(imgElement, zoomInButton, zoomOutButton, zoomResetButton);
        }
        
        // Update navigation buttons
        updateNavigationButtons();
    }

    /**
     * Update navigation button states
     */
    function updateNavigationButtons() {
        // Previous/next functionality would be implemented here
        // For now, we'll just ensure buttons are properly styled
    }

    /**
     * Enhanced SVG pan and zoom functionality
     */
    function initializeSvgPanZoom(svgElement, zoomInBtn, zoomOutBtn, zoomResetBtn) {
        svgElement.style.cursor = 'grab';
        currentPanZoom = svgPanZoom(svgElement, {
            zoomEnabled: true,
            controlIconsEnabled: false,
            fit: true,
            center: true,
            minZoom: 0.5,
            maxZoom: 10,
            onPan: () => {
                svgElement.style.cursor = 'grabbing';
                updateZoomInfo();
            },
            beforePan: () => svgElement.style.cursor = 'grab',
            onZoom: () => updateZoomInfo(),
        });
        
        // Enhanced button interactions
        zoomInBtn.onclick = () => {
            currentPanZoom.zoomIn();
            updateZoomInfo();
        };
        zoomOutBtn.onclick = () => {
            currentPanZoom.zoomOut();
            updateZoomInfo();
        };
        zoomResetBtn.onclick = () => {
            currentPanZoom.reset();
            updateZoomInfo();
        };
    }

    /**
     * Enhanced image pan and zoom functionality
     */
    function initializeImagePanZoom(imgElement, zoomInBtn, zoomOutBtn, zoomResetBtn) {
        imgElement.style.cursor = 'grab';
        let scale = 1, panning = false, pointX = 0, pointY = 0, start = { x: 0, y: 0 };

        function setTransform() {
            imgElement.style.transform = `translate(${pointX}px, ${pointY}px) scale(${scale})`;
            updateZoomInfo();
        }

        imagePanState.setTransform = setTransform;
        imagePanState.scale = (s) => {
            scale = Math.min(Math.max(0.5, s), 10);
            setTransform();
        };
        imagePanState.reset = () => {
            scale = 1;
            pointX = 0;
            pointY = 0;
            setTransform();
        };

        // Enhanced mouse events for panning
        imgElement.onmousedown = (e) => {
            e.preventDefault();
            start = { x: e.clientX - pointX, y: e.clientY - pointY };
            panning = true;
            imgElement.style.cursor = 'grabbing';
        };

        imgElement.onmouseup = () => {
            panning = false;
            imgElement.style.cursor = 'grab';
        };
        imgElement.onmouseleave = () => {
            panning = false;
            imgElement.style.cursor = 'grab';
        };
        imgElement.onmousemove = (e) => {
            if (!panning) return;
            pointX = e.clientX - start.x;
            pointY = e.clientY - start.y;
            setTransform();
        };
        
        // Enhanced wheel event for zooming
        imgElement.onwheel = (e) => {
            e.preventDefault();
            let xs = (e.clientX - pointX) / scale;
            let ys = (e.clientY - pointY) / scale;
            let delta = (e.wheelDelta ? e.wheelDelta : -e.deltaY);
            scale = (delta > 0) ? scale * 1.2 : scale / 1.2;
            imagePanState.scale(scale);
            pointX = e.clientX - xs * scale;
            pointY = e.clientY - ys * scale;
            setTransform();
        };
        
        // Enhanced button interactions
        zoomInBtn.onclick = () => {
            imagePanState.scale(scale * 1.2);
        };
        zoomOutBtn.onclick = () => {
            imagePanState.scale(scale / 1.2);
        };
        zoomResetBtn.onclick = () => {
            imagePanState.reset();
        };
        
        // Download functionality
        if (downloadButton && imgElement.src) {
            downloadButton.onclick = () => {
                const link = document.createElement('a');
                link.href = imgElement.src;
                link.download = `cowin-case-study-${Date.now()}.jpg`;
                link.click();
            };
            downloadButton.style.display = 'block';
        }
    }

    /**
     * Update zoom level information
     */
    function updateZoomInfo() {
        // Could add zoom level indicator here
    }

    /**
     * Enhanced close lightbox functionality
     */
    function closeLightbox() {
        if (currentPanZoom) {
            currentPanZoom.destroy();
            currentPanZoom = null;
        }
        imagePanState = {};
        
        // Hide instructions and counter
        lightboxInstructions.style.opacity = '0';
        lightboxCounter.style.opacity = '0';
        
        // Animate lightbox closing
        lightbox.style.transition = 'opacity 0.3s ease-out';
        lightbox.style.opacity = '0';
        
        setTimeout(() => {
            lightbox.classList.remove('is-visible');
            document.body.style.overflow = 'auto';
        }, 300);
    }
    
    // Enhanced event listeners for lightbox
    document.querySelectorAll('.zoomable').forEach(el => {
        el.addEventListener('click', (e) => {
            e.preventDefault();
            let targetElement = e.target.closest('.explorer-visuals') || e.target.closest('.zoomable');
            
            if (targetElement.classList.contains('explorer-visuals')) {
                targetElement = targetElement.querySelector('.iteration-image.is-active, video.is-active');
                if (targetElement && targetElement.tagName === 'VIDEO') {
                    targetElement.play();
                    return;
                }
                targetElement = targetElement.querySelector('img');
            } else if (targetElement.classList.contains('zoomable') && !targetElement.querySelector('img') && !targetElement.querySelector('svg')) {
                targetElement = targetElement.querySelector('img') || targetElement.querySelector('svg');
            }
            
            if(targetElement) openLightbox(targetElement);
        });
    });
    
    // Enhanced close event listeners
    closeButton.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
    });
    document.addEventListener('keydown', (e) => {
        if (e.key === "Escape") closeLightbox();
        // Add arrow key navigation for multiple images
        if (allImages.length > 1) {
            if (e.key === "ArrowLeft" && currentImageIndex > 0) {
                openLightbox(allImages[currentImageIndex - 1]);
            } else if (e.key === "ArrowRight" && currentImageIndex < allImages.length - 1) {
                openLightbox(allImages[currentImageIndex + 1]);
            }
        }
    });
}

/**
 * Initialize enhanced smooth scrolling for anchor links
 */
function initializeSmoothScrolling() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                // Calculate offset for fixed header
                const header = document.querySelector('.navbar');
                const headerHeight = header ? header.offsetHeight : 0;
                const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerHeight - 20;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
}

/**
 * Initialize enhanced animated elements on scroll
 */
function initializeAnimatedElements() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Observe all animated elements
    document.querySelectorAll('.animate-fade-in, .animate-slide-up, .animate-scale-in').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'all 0.6s ease-out';
        observer.observe(el);
    });
}

/**
 * Initialize enhanced table of contents functionality
 */
function initializeTableOfContents() {
    const tocLinks = document.querySelectorAll('.toc-link');
    const sections = document.querySelectorAll('section[id]');
    const header = document.querySelector('.navbar');
    
    if (tocLinks.length === 0 || sections.length === 0) return;
    
    // Function to update active TOC link
    function updateActiveTocLink() {
        const scrollPosition = window.scrollY + 100; // Offset for fixed header
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.offsetHeight;
            const sectionId = section.getAttribute('id');
            
            if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                tocLinks.forEach(link => {
                    link.classList.remove('is-active', 'bg-primary/10', 'text-primary', 'border', 'border-primary/20');
                    if (link.getAttribute('href') === `#${sectionId}`) {
                        link.classList.add('is-active', 'bg-primary/10', 'text-primary', 'border', 'border-primary/20');
                    }
                });
            }
        });
    }
    
    // Smooth scroll for TOC links
    tocLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = link.getAttribute('href').substring(1);
            const target = document.getElementById(targetId);
            
            if (target) {
                const headerHeight = header ? header.offsetHeight : 0;
                const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerHeight - 20;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Update active TOC link on scroll
    window.addEventListener('scroll', updateActiveTocLink);
    
    // Initial update
    updateActiveTocLink();
}

/**
 * Initialize enhanced mobile menu functionality
 */
function initializeMobileMenu() {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
    const closeMobileMenu = document.getElementById('close-mobile-menu');
    
    if (!mobileMenuButton || !mobileMenuOverlay) return;
    
    function openMobileMenu() {
        mobileMenuOverlay.classList.remove('hidden');
        mobileMenuOverlay.style.opacity = '0';
        mobileMenuOverlay.style.transition = 'opacity 0.3s ease-out';
        
        setTimeout(() => {
            mobileMenuOverlay.style.opacity = '1';
        }, 10);
        
        document.body.style.overflow = 'hidden';
        mobileMenuButton.style.transform = 'scale(0.95)';
        
        setTimeout(() => {
            mobileMenuButton.style.transform = 'scale(1)';
        }, 150);
    }
    
    function closeMobileMenuFunc() {
        mobileMenuOverlay.style.opacity = '0';
        
        setTimeout(() => {
            mobileMenuOverlay.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }, 300);
    }
    
    // Event listeners
    mobileMenuButton.addEventListener('click', openMobileMenu);
    closeMobileMenu.addEventListener('click', closeMobileMenuFunc);
    
    // Close menu when clicking outside
    mobileMenuOverlay.addEventListener('click', (e) => {
        if (e.target === mobileMenuOverlay) {
            closeMobileMenuFunc();
        }
    });
    
    // Close menu on escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !mobileMenuOverlay.classList.contains('hidden')) {
            closeMobileMenuFunc();
        }
    });
    
    // Smooth scroll for mobile menu links
    mobileMenuOverlay.querySelectorAll('a[href^="#"]').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const target = document.querySelector(link.getAttribute('href'));
            if (target) {
                closeMobileMenuFunc();
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
}

/**
 * Initialize tooltips for enhanced UX
 */
function initializeTooltips() {
    // Enhanced tooltip functionality
    document.querySelectorAll('[title]').forEach(element => {
        element.addEventListener('mouseenter', (e) => {
            // Enhanced tooltip logic could go here
        });
    });
    
    // Enhanced keyboard navigation for interactive elements
    document.querySelectorAll('button, a[href], input, select, textarea, [tabindex]').forEach(element => {
        element.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                if (element.tagName === 'BUTTON' || element.tagName === 'A') {
                    e.preventDefault();
                    element.click();
                }
            }
        });
    });
    
    // Enhanced focus management for modal dialogs
    const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
    
    // Trap focus in mobile menu
    const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
    if (mobileMenuOverlay) {
        const focusableElementsInMenu = mobileMenuOverlay.querySelectorAll(focusableElements);
        const firstFocusableElement = focusableElementsInMenu[0];
        const lastFocusableElement = focusableElementsInMenu[focusableElementsInMenu.length - 1];
        
        mobileMenuOverlay.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') {
                if (e.shiftKey) {
                    if (document.activeElement === firstFocusableElement) {
                        e.preventDefault();
                        lastFocusableElement.focus();
                    }
                } else {
                    if (document.activeElement === lastFocusableElement) {
                        e.preventDefault();
                        firstFocusableElement.focus();
                    }
                }
            }
        });
    }
    
    // Enhanced skip to content link
    const skipToContent = document.createElement('a');
    skipToContent.href = '#main-content';
    skipToContent.textContent = 'Skip to main content';
    skipToContent.className = 'sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-white px-4 py-2 rounded-lg';
    document.body.insertBefore(skipToContent, document.body.firstChild);
    
    // Add ARIA labels for enhanced screen reader support
    document.querySelectorAll('.zoomable').forEach(element => {
        element.setAttribute('role', 'button');
        element.setAttribute('aria-label', 'Click to zoom');
        element.setAttribute('tabindex', '0');
    });
    
    // Enhanced error handling for images
    document.querySelectorAll('img').forEach(img => {
        img.addEventListener('error', () => {
            img.alt = 'Image failed to load';
            img.classList.add('opacity-50');
        });
    });
}
</script>

</body>
</html>